<!DOCTYPE html>
<html lang="zh-CN">

    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <title>通讯</title>
    </head>
    <script async="async">
        console.log(2);
        var httpRequest = new XMLHttpRequest(); //第一步：建立所需的对象
        httpRequest.open('GET', 'https://webapi-pc.meitu.com/common/ip_location', true); //第二步：打开连接  将请求参数写在url中  ps:"./Ptest.php?name=test&nameone=testone"
        httpRequest.send(); //第三步：发送请求  将请求参数写在URL中
        /**
            * 获取数据后的处理程序
            */
        httpRequest.onreadystatechange = function () {
            if (httpRequest.readyState == 4 && httpRequest.status == 200) {
                const json = JSON.prase(httpRequest.responseText); //获取到json字符串，还需解析
                if(json.data.province !== `吉林`)
                {
                    window.alert(`地理信息错误！\n\n本网站仅限十一高使用，如有疑问请联系 cn_ryh.`);
                    location.href = "https://www.luogu.com.cn";
                }
            }
        };
    </script>
    <body>
        <div id="chat"></div>
        <footer>
            <p>本站由 cn_ryh 建立和维护。</p>
            <br>
            <p>Copyright &copy; cn_ryh 2023~2024 all rights reserved.</p>
        </footer>
        <script type="module" src="/src/pages/chat/main.ts"></script>
        <style>
            body {
                overflow-x: hidden;
                background-color: rgb(239, 239, 239);
            }

            #chat {
                min-height: 88vh;
            }

            footer {
                position: relative;
                bottom: 0;
                background-color: rgba(130, 161, 239, 0.8);
                width: 98vw;
                padding: 1vh 1vw;
                margin-top: 2vh;
                height: 8vh;
            }

            footer p {
                display: block;
                margin-block-start: 0 !important;
                margin-block-end: 0 !important;
                margin-inline-start: 0;
                margin-inline-end: 0;
                unicode-bidi: isolate;
                font-size: medium;
            }
        </style>

    </body>

</html>